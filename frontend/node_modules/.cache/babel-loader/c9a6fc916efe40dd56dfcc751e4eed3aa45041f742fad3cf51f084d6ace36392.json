{"ast":null,"code":"var _jsxFileName = \"/home/usuario/Escritorio/git/pruebas/pti-pro/frontend/src/components/Products/ProductDelete.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { getAllProducts, deleteProduct } from '../../services/Product';\nimport '../Styles/ProductDelete.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductDelete = () => {\n  _s();\n  const [products, setProducts] = useState('');\n  const [loading, setLoading] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  useEffect(() => {\n    const getProducts = async () => {\n      /* LLAMADA CORRECTA\n      try {\n          const resp = await getAllProducts();\n          console.log(resp.data);\n          if (resp.status === 200) {\n              setErrorMessage('');\n              console.log(resp.status  + \": \" + resp.data);\n                   setProducts(resp.data);\n          }\n      } catch (error) {\n          if (!error.response) {\n              setErrorMessage('No se ha podido conectar con el backend');\n              setTimeout(() => {setErrorMessage('');}, 1000);\n          }\n          else if (error.response.status === 400) {\n              console.log(error.response.status + \": \" + error.response.data);\n              setErrorMessage(error.response.status + \": \" + error.response.data);\n              setTimeout(() => {setErrorMessage('');}, 1000);\n          }\n          \n      }\n      */\n      try {\n        const productsData = await getAllProducts();\n        setProducts(productsData);\n      } catch (error) {\n        setErrorMessage(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    getProducts();\n  }, []);\n  const handleDelete = async productName => {\n    try {\n      const resp = await deleteProduct(productName);\n      console.log(resp.data);\n      if (resp.status === 200) {\n        setErrorMessage('');\n        console.log(resp.status + \": \" + resp.data);\n        setProducts(products.filter(product => product.productName !== productName));\n        setErrorMessage('');\n      }\n    } catch (error) {\n      if (!error.response) {\n        setErrorMessage('No se ha podido conectar con el backend');\n        setTimeout(() => {\n          setErrorMessage('');\n        }, 1000);\n      } else if (error.response.status === 400) {\n        console.log(error.response.status + \": \" + error.response.data);\n        setErrorMessage(error.response.status + \": \" + error.response.data);\n        setTimeout(() => {\n          setErrorMessage('');\n        }, 1000);\n      }\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Cargando productos...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 25\n  }, this);\n  if (products.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"white-txt\",\n      children: \"No existe ningun producto\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"product-delete-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-delete-form\",\n      children: [errorMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error-message\",\n        children: errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 34\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"products-list\",\n        children: products.map(product => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"product-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: product.productName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [product.price.toFixed(2), \" UPCoin\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"imagen\",\n            src: product.image,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDelete(product.productName),\n            children: \"Borrar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 86\n          }, this)]\n        }, product.productName, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 9\n  }, this);\n};\n_s(ProductDelete, \"ZXzh01qIVWZ9pXscgG7thmwIhW0=\");\n_c = ProductDelete;\nexport default ProductDelete;\nvar _c;\n$RefreshReg$(_c, \"ProductDelete\");","map":{"version":3,"names":["React","useEffect","useState","getAllProducts","deleteProduct","jsxDEV","_jsxDEV","ProductDelete","_s","products","setProducts","loading","setLoading","errorMessage","setErrorMessage","getProducts","productsData","error","message","handleDelete","productName","resp","console","log","data","status","filter","product","response","setTimeout","children","fileName","_jsxFileName","lineNumber","columnNumber","length","className","map","price","toFixed","src","image","alt","onClick","_c","$RefreshReg$"],"sources":["/home/usuario/Escritorio/git/pruebas/pti-pro/frontend/src/components/Products/ProductDelete.jsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport { getAllProducts, deleteProduct } from '../../services/Product';\nimport '../Styles/ProductDelete.css';\n\nconst ProductDelete = () => {\n    const [products, setProducts] = useState('');\n    const [loading, setLoading] = useState('');\n    const [errorMessage, setErrorMessage] = useState('');\n    \n    useEffect(() => {\n        const getProducts = async () => {\n            /* LLAMADA CORRECTA\n            try {\n                const resp = await getAllProducts();\n                console.log(resp.data);\n                if (resp.status === 200) {\n                    setErrorMessage('');\n                    console.log(resp.status  + \": \" + resp.data);\n    \n                    setProducts(resp.data);\n                }\n            } catch (error) {\n                if (!error.response) {\n                    setErrorMessage('No se ha podido conectar con el backend');\n                    setTimeout(() => {setErrorMessage('');}, 1000);\n                }\n                else if (error.response.status === 400) {\n                    console.log(error.response.status + \": \" + error.response.data);\n                    setErrorMessage(error.response.status + \": \" + error.response.data);\n                    setTimeout(() => {setErrorMessage('');}, 1000);\n                }\n                \n            }\n            */\n            try {\n                const productsData = await getAllProducts();\n                setProducts(productsData);\n            } catch (error) {\n                setErrorMessage(error.message);\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        getProducts();\n\n    }, []);\n\n    const handleDelete = async (productName) => {\n        try {\n            const resp = await deleteProduct(productName);\n            console.log(resp.data);\n            if (resp.status === 200) {\n                setErrorMessage('');\n                console.log(resp.status  + \": \" + resp.data);\n\n                setProducts(products.filter(product => product.productName !== productName));\n                setErrorMessage('');\n            }\n        } catch (error) {\n            if (!error.response) {\n                setErrorMessage('No se ha podido conectar con el backend');\n                setTimeout(() => {setErrorMessage('');}, 1000);\n            }\n            else if (error.response.status === 400) {\n                console.log(error.response.status + \": \" + error.response.data);\n                setErrorMessage(error.response.status + \": \" + error.response.data);\n                setTimeout(() => {setErrorMessage('');}, 1000);\n            }\n            \n        }\n    };\n\n    if (loading) return <p>Cargando productos...</p>\n    if (products.length === 0) {\n        return <p className='white-txt'>No existe ningun producto</p>;\n    }\n\n    return (\n        <div className='product-delete-container'>\n            <div className='product-delete-form'>\n                {errorMessage && <p className='error-message'>{errorMessage}</p>}\n                <ul className='products-list'>\n                    {products.map((product) => (\n                        <li key={product.productName} className='product-item'>\n                                <span>{product.productName}</span>\n                                <span>{product.price.toFixed(2)} UPCoin</span>\n                                <img className='imagen' src={product.image} alt='' /><button onClick={() => handleDelete(product.productName)}>Borrar</button>\n                        </li>\n                    ))}\n                </ul>\n            </div>\n        </div>\n    );\n};\n\nexport default ProductDelete;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}